(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{4734:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5155),s=n(2115);function a(){let[e,t]=(0,s.useState)(null),[n,a]=(0,s.useState)(""),[i,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{{let e=localStorage.getItem("loginUser");if(e){let n=JSON.parse(e);t(n),a(n.displayName||"")}}},[]);let o=async t=>{if(t.preventDefault(),!e)return;await fetch("http://localhost:3001/api/change-display-name",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,newDisplayName:n})});let r={...e,displayName:n};localStorage.setItem("loginUser",JSON.stringify(r)),l(!0)};return(0,r.jsxs)("main",{style:{padding:24},children:[(0,r.jsx)("h2",{children:"修改暱稱"}),(0,r.jsxs)("form",{onSubmit:o,children:[(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)("label",{children:"新暱稱："}),(0,r.jsx)("input",{type:"text",value:n,onChange:e=>a(e.target.value),required:!0,style:{marginLeft:8,width:200}})]}),(0,r.jsx)("button",{type:"submit",style:{padding:"10px 24px",borderRadius:6,background:"#0070f3",color:"#fff",border:"none",fontSize:18,cursor:"pointer"},children:"送出"}),i&&(0,r.jsx)("div",{style:{color:"green",marginTop:16,fontWeight:"bold"},children:"暱稱已修改！"})]})]})}},9024:(e,t,n)=>{Promise.resolve().then(n.bind(n,4734))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(9024)),_N_E=e.O()}]);