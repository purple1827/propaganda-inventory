(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{4663:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(5155),n=r(2115);function a(){let[e,t]=(0,n.useState)(""),[r,a]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),o=async t=>{t.preventDefault(),a(""),l("");let r=JSON.parse(localStorage.getItem("loginUser")||"null");if(!r)return void l("請先登入");try{let t=await fetch("http://localhost:3001/api/change-display-name",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.username,newDisplayName:e})}),s=await t.json();s.success?(a("暱稱修改成功！"),r.displayName=e,localStorage.setItem("loginUser",JSON.stringify(r))):l("暱稱修改失敗："+s.message)}catch(e){l("暱稱修改失敗："+e.message)}};return(0,s.jsxs)("div",{style:{maxWidth:400,margin:"40px auto",background:"#f5f6fa",borderRadius:"12px",padding:"32px",boxShadow:"0 2px 8px #0001"},children:[(0,s.jsx)("h2",{style:{textAlign:"center"},children:"修改暱稱"}),(0,s.jsxs)("form",{onSubmit:o,children:[(0,s.jsxs)("div",{style:{marginBottom:16},children:[(0,s.jsx)("label",{children:"新暱稱："}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:8,borderRadius:4,border:"1px solid #ccc"}})]}),(0,s.jsx)("button",{type:"submit",style:{width:"100%",padding:10,borderRadius:4,background:"#2d8cf0",color:"#fff",border:"none",fontWeight:"bold",fontSize:16,cursor:"pointer"},children:"送出"})]}),r&&(0,s.jsx)("p",{style:{color:"green",textAlign:"center"},children:r}),i&&(0,s.jsx)("p",{style:{color:"red",textAlign:"center"},children:i})]})}},7783:(e,t,r)=>{Promise.resolve().then(r.bind(r,4663))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(7783)),_N_E=e.O()}]);